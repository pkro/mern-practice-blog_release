(this["webpackJsonpmy-blog"]=this["webpackJsonpmy-blog"]||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);a(23);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(7),m=a(8),u=(a(28),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed nostrum fugiat autem quaerat possimus. Quasi inventore ducimus explicabo impedit quam iusto sunt praesentium aut vel neque, accusamus aliquam doloremque amet."))}),s=function(){return r.a.createElement("div",null,"About")},i=a(3),p=a.n(i),f=a(6),E=a(10),d=function(e){var t=e.articles;return r.a.createElement("div",{className:"article-list"},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement(o.b,{to:"/article/".concat(e.name)},r.a.createElement("h3",null,e.name),r.a.createElement("p",null,e.content[0].substring(0,100),"...")))}))))},v=function(e){var t=e.filterBy,a=e.headline,c=Object(n.useState)([]),l=Object(E.a)(c,2),o=l[0],m=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/articles/",{method:"GET"});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,m(null!==t?n.filter((function(e){return e._id!==t})):n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("h1",null,a)),o.length>0&&r.a.createElement(d,{articles:o}))};v.defaultProps={filterBy:null,headline:"List of articles"};var h=v,b=function(e){var t=e.comments;return r.a.createElement("div",{className:"my-2"},r.a.createElement("h3",null,"Comments"),t.map((function(e){return r.a.createElement("div",{className:"comment",key:e._id},r.a.createElement("h4",null,e.user),r.a.createElement("p",null,e.text))})))},y=function(e){var t=e.articleName,a=e.upvotes,n=e.setArticleInfo,c=function(){var e=Object(f.a)(p.a.mark((function e(a){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,fetch("/api/articles/".concat(t,"/upvote"),{method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,n(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"voting my-1"}," ",r.a.createElement("button",{className:"btn",onClick:c},"Upvote"),"This post has been upvoted ",a," times"))},g=function(){return r.a.createElement("h1",null,"Not found")},x=a(12),j=a(21),N=function(e){var t=e.articleName,a=e.setArticleInfo,c={text:"",user:""},l=Object(n.useState)(c),o=Object(E.a)(l,2),m=o[0],u=o[1],s=function(){var e=Object(f.a)(p.a.mark((function e(n){var r,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/api/articles/".concat(t,"/add-comment"),{method:"post",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:(l=e.sent).errors?alert(l.errors.join("\n")):(a(l),u(c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(e){u(Object(j.a)({},m,Object(x.a)({},e.target.name,e.target.value)))},d=m.text,v=m.user;return r.a.createElement("div",{className:"comment-form my-1"},r.a.createElement("div",{className:"lead"},"Add a comment"),r.a.createElement("div",{className:"form"},r.a.createElement("form",{action:"#",onSubmit:s},r.a.createElement("label",{htmlFor:"user"},"Username (leave blank for anonymous)"),r.a.createElement("input",{type:"text",name:"user",id:"user",placeholder:"Username",value:v,onChange:i,className:"my-1"}),r.a.createElement("label",{htmlFor:"text"},"Comment"),r.a.createElement("textarea",{value:d,name:"text",id:"text",onChange:i}),r.a.createElement("button",{type:"submit",className:"btn my-1"},"Submit"))))},O=function(e){var t=e.match.params.name,a=Object(n.useState)({}),c=Object(E.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/articles/".concat(t),{method:"GET"});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,l.upvotes]),l.title?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,l.title),r.a.createElement("div",{className:"article"},l.content.map((function(e,t){return r.a.createElement("p",{key:t},e)}))),r.a.createElement(y,{articleName:l.name,setArticleInfo:o,upvotes:l.upvotes}),r.a.createElement(N,{articleName:l.name,setArticleInfo:o}),l.comments&&r.a.createElement(b,{comments:l.comments}),r.a.createElement(h,{headline:"Related articles",filterBy:l._id})):r.a.createElement(g,null)},w=function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"logo"},"MYBLOG"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/articles"},"Articles")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/About"},"About"))))};var k=function(){return r.a.createElement(o.a,null,r.a.createElement(w,null),r.a.createElement("div",{className:"app"},r.a.createElement("div",{id:"page-body"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:u}),r.a.createElement(m.a,{exact:!0,path:"/about",component:s}),r.a.createElement(m.a,{path:"/articles",component:h}),r.a.createElement(m.a,{path:"/article/:name",component:O}),r.a.createElement(m.a,{component:g})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.90754132.chunk.js.map